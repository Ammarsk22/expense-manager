/* --- FONTS --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap');

/* --- BASE SETTINGS --- */
body {
    font-family: 'Inter', sans-serif;
    -webkit-tap-highlight-color: transparent; /* Remove blue highlight on mobile tap */
    overscroll-behavior-y: none; /* Prevent pull-to-refresh on body in PWA */
}

/* Monospace font for numbers (Better readability for currency) */
.font-mono-num {
    font-family: 'Space Grotesk', monospace;
}

/* --- CUSTOM SCROLLBARS --- */

/* Hide Scrollbar (for horizontal chips) */
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Stylish Thin Scrollbar (for vertical lists) */
.custom-scrollbar::-webkit-scrollbar {
    width: 4px;
    height: 4px;
}
.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
    background: #cbd5e1; /* Light mode thumb */
    border-radius: 10px;
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #334155; /* Dark mode thumb */
}

/* --- GLASSMORPHISM --- */
.glass-card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px); /* Safari support */
    border: 1px solid rgba(255, 255, 255, 0.4);
}

.dark .glass-card {
    background: rgba(30, 41, 59, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* --- ANIMATIONS --- */

/* 1. Card Hover Lift */
.hover-lift {
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
}
.hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.1);
}

/* 2. Fade In (For Lists & Toasts) */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
}

/* 3. Floating Blobs (Login Background) */
@keyframes blob {
    0% { transform: translate(0px, 0px) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0px, 0px) scale(1); }
}
.animate-blob {
    animation: blob 7s infinite;
}
.animation-delay-2000 {
    animation-delay: 2s;
}
.animation-delay-4000 {
    animation-delay: 4s;
}

/* 4. Scanner Line (OCR) */
@keyframes scan {
    0% { top: 0; }
    50% { top: 100%; }
    100% { top: 0; }
}
.scan-line {
    position: absolute;
    width: 100%;
    height: 2px;
    background: #6366F1;
    box-shadow: 0 0 15px #6366F1;
    animation: scan 2s infinite linear;
    top: 0;
    z-index: 10;
}

/* 5. Shake Effect (Wrong PIN) */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}
.animate-shake {
    animation: shake 0.3s ease-in-out;
}

/* --- PRIVACY MODE (Blur Sensitive Data) --- */
body.privacy-active .privacy-blur, 
body.privacy-active #balance, 
body.privacy-active #total-income, 
body.privacy-active #total-expense,
body.privacy-active #total-saved,
body.privacy-active #total-monthly,
body.privacy-active #forecast-amount {
    filter: blur(8px);
    transition: filter 0.3s ease;
    user-select: none;
}

/* --- BACKGROUNDS & PATTERNS --- */

/* Mesh Background (Login Page) */
.mesh-bg {
    background-color: #f3f4f6;
    background-image: 
        radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
        radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
        radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
}
.dark .mesh-bg {
    background-color: #0f172a;
    background-image: 
        radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
        radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
        radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
}

/* Progress Bar Transitions */
.progress-bar-fill {
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* --- PWA FIXES --- */

/* Safe Area (iPhone Home Bar) */
.pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
}

/* Hide Install Button in Standalone Mode */
.pwa-standalone #install-btn {
    display: none !important;
}

/* Adjust Top Padding for Status Bar */
.pwa-standalone main {
    padding-top: max(2rem, env(safe-area-inset-top)) !important;
}

/* Calculator Grid (Hidden by default) */
.calculator {
    display: none;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.5rem;
}
.calculator.active {
    display: grid;
}
.calc-btn {
    transition: all 0.1s;
}
.calc-btn:active {
    transform: scale(0.95);
    opacity: 0.8;
}